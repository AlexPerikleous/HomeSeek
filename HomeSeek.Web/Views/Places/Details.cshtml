@model HomeSeek.Entities.Place

@{
    ViewBag.Title ="HomeSeek - "+@Model.ApartmentName;
}
<!-- listing-carousel-wrap -->
<div class="listing-carousel-wrap fl-wrap" id="sec1">
    <div class="listing-carousel fl-wrap full-height lightgallery">
        <div class="swiper-container">
            <div class="swiper-wrapper">
                @foreach (var photo in Model.Photos)
                {
                    <!-- swiper-slide-->
                    <div class="swiper-slide hov_zoom">
                        <img src="@photo.PhotoUrl" alt="">
                        <a href="@photo.PhotoUrl" class="box-media-zoom   popup-image"><i class="fal fa-search"></i></a>
                    </div>
                    <!-- swiper-slide end-->
                }
            </div>
        </div>
    </div>
    <div class="listing-carousel_pagination">
        <div class="listing-carousel_pagination-wrap"></div>
    </div>
    <div class="listing-carousel-button listing-carousel-button-next"><i class="fas fa-caret-right"></i></div>
    <div class="listing-carousel-button listing-carousel-button-prev"><i class="fas fa-caret-left"></i></div>
</div>
<!-- listing-carousel-wrap end-->
<!-- scroll-nav-wrapper-->
<div class="scroll-nav-wrapper fl-wrap">
    <div class="container">
        <nav class="scroll-nav scroll-init">
            <ul class="no-list-style">
                <li><a class="act-scrlink" href="#sec1"><i class="fal fa-images"></i> Gallery</a></li>
                <li><a href="#sec2"><i class="fal fa-info"></i>Details</a></li>
                <li><a href="#sec5"><i class="fal fa-comments-alt"></i>Reviews</a></li>
            </ul>
        </nav>

    </div>
</div>
<!-- scroll-nav-wrapper end-->
<section class="gray-bg no-top-padding">
    <div class="container">

        <div class="clearfix"></div>
        <div class="row">
            <!-- list-single-main-wrapper-col -->
            <div class="col-md-8">
                <!-- list-single-main-wrapper -->
                <div class="list-single-main-wrapper fl-wrap" id="sec2">
                    <!-- list-single-header -->
                    <div class="list-single-header list-single-header-inside block_box fl-wrap">
                        <div class="list-single-header-item  fl-wrap">
                            <div class="row">
                                <div class="col-md-8">
                                    <h1>@Html.DisplayFor(model => model.ApartmentName) <span class="verified-badge"><i class="fal fa-check"></i></span></h1>
                                    <div class="geodir-category-location fl-wrap"><a href="#"><i class="fas fa-map-marker-alt"></i> @Html.DisplayFor(model => model.Address.AddressName)  @Html.DisplayFor(model => model.Address.City) </a> <a href="#"> <i class="fal fa-calendar-alt"></i>@(Model.Created?.ToString("dd/MM/yyyy")) </a></div>
                                </div>
                                <div class="col-md-4">
                                    <div class="fl-wrap list-single-header-column  block_box">
                                        <div class="listing-rating-count-wrap single-list-count">
                                            <div class="review-score">
                                                @ViewBag.AvgOverallRating
                                            </div>
                                            <div class="listing-rating card-popup-rainingvis" data-starrating2="@(Math.Round((ViewBag.AvgOverallRating),0))"></div>
                                            <br>
                                            <div class="reviews-count">
                                                @if (@ViewBag.TotalReviews > 1)
                                                {
                                                    @ViewBag.TotalReviews<span> Reviews</span>
                                                }
                                                else
                                                {
                                                    @ViewBag.TotalReviews <span> Review</span>
                                                }

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="list-single-header_bottom fl-wrap">
                            <a class="listing-item-category-wrap" href="#">
                                <div class="listing-item-category  blue-bg"><i class="fal fa-bed"></i></div>
                                <span>Hotels</span>
                            </a>
                        </div>
                    </div>
                    <!-- list-single-header end -->
                    <!-- list-single-facts -->
                    <div class="list-single-facts fl-wrap">
                        <div class="row">
                            <div class="col-md-4">
                                <!-- inline-facts -->
                                <div class="inline-facts-wrap gradient-bg ">
                                    <div class="inline-facts">
                                        <i class="fal fa-bed"></i>
                                        <div class="milestone-counter">
                                            <div class="stats animaper">
                                                <div class="num" data-content="0" data-num="@Model.Bedroom">0</div>
                                            </div>
                                        </div>
                                        <h6>Room Bedrooms</h6>
                                    </div>
                                    <div class="stat-wave">
                                        <svg viewbox="0 0 100 25">
                                            <path fill="#fff" d="M0 30 V12 Q30 17 55 2 T100 11 V30z" />
                                        </svg>
                                    </div>
                                </div>
                                <!-- inline-facts end -->
                            </div>
                            <div class="col-md-4">
                                <!-- inline-facts  -->
                                <div class="inline-facts-wrap gradient-bg ">
                                    <div class="inline-facts">
                                        <i class="fal fa-bath"></i>
                                        <div class="milestone-counter">
                                            <div class="stats animaper">
                                                <div class="num" data-content="0" data-num="@Model.Bathroom">0</div>
                                            </div>
                                        </div>
                                        <h6>Room Bathrooms</h6>
                                    </div>
                                    <div class="stat-wave">
                                        <svg viewbox="0 0 100 25">
                                            <path fill="#fff" d="M0 30 V12 Q30 17 55 12 T100 11 V30z" />
                                        </svg>
                                    </div>
                                </div>
                                <!-- inline-facts end -->
                            </div>
                            <div class="col-md-4">
                                <!-- inline-facts  -->
                                <div class="inline-facts-wrap gradient-bg ">
                                    <div class="inline-facts">
                                        <i class="fal fa-users"></i>
                                        <div class="milestone-counter">
                                            <div class="stats animaper">
                                                <div class="num" data-content="0" data-num="@Model.Guests">0</div>
                                            </div>
                                        </div>
                                        <h6>Room Guests</h6>
                                    </div>
                                    <div class="stat-wave">
                                        <svg viewbox="0 0 100 25">
                                            <path fill="#fff" d="M0 30 V12 Q30 12 55 5 T100 11 V30z" />
                                        </svg>
                                    </div>
                                </div>
                                <!-- inline-facts end -->
                            </div>
                        </div>
                    </div>
                    <!-- list-single-facts end -->
                    <!-- list-single-main-item -->
                    <div class="list-single-main-item fl-wrap block_box">
                        <div class="list-single-main-item-title">
                            <h3>Description</h3>
                        </div>
                        <div class="list-single-main-item_content fl-wrap">
                            <p>@Html.DisplayFor(model => model.Description) </p>
                        </div>
                    </div>
                    <!-- list-single-main-item end -->
                    <!-- list-single-main-item -->
                    <div class="list-single-main-item fl-wrap block_box">
                        <div class="list-single-main-item-title">
                            <h3>Listing Features</h3>
                        </div>
                        <div class="list-single-main-item_content  fl-wrap checked-amenities">
                            <div class="listing-features fl-wrap">
                                <ul class="no-list-style">
                                    <li><a href="#"><i class="fal fa-parking"></i>Elevator @Html.DisplayFor(model => model.Amenities.Elevator)</a></li>
                                    <li><a href="#"><i class="fa fa-wifi"></i>Wifi @Html.DisplayFor(model => model.Amenities.Wifi)</a></li>
                                    <li><a href="#"><i class="fa fa-motorcycle"></i>Free Parking @Html.DisplayFor(model => model.Amenities.FreeParking)</a></li>
                                    <li><a href="#"><i class="fal fa-cloud"></i>Air Conditioned @Html.DisplayFor(model => model.Amenities.AirConditioning)</a></li>
                                    <li><a href="#"><i class="fal fa-first-aid"></i>First Aid Kit @Html.DisplayFor(model => model.Amenities.FirstAidKit)</a></li>
                                    <li><a href="#"><i class="fal fa-temperature-hot"></i>Heating @Html.DisplayFor(model => model.Amenities.Heating)</a></li>
                                    <li><a href="#"><i class="fal fa-hot-tub"></i>Hot Water @Html.DisplayFor(model => model.Amenities.HotWater)</a></li>
                                    <li><a href="#"><i class="fal fa-door-closed"></i>Private Entrance @Html.DisplayFor(model => model.Amenities.PrivateΕntrance)</a></li>
                                    <li><a href="#"><i class="fal fa-tv"></i>TV @Html.DisplayFor(model => model.Amenities.Tv)</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- list-single-main-item end -->
                    <!-- list-single-main-item -->
                    <div class="list-single-main-item fl-wrap block_box" id="sec5">
                        <div class="list-single-main-item-title">

                            <h3>Item Reviews -  <span> @ViewBag.TotalReviews </span><button class="btn ml-5 color2-bg">@Html.ActionLink("Submit Review", "Create", "Reviews", new { PlaceId = Model.PlaceId }, new { @class = "text-white" }) <i class="fal fa-paper-plane"></i></button></h3>



                        </div>
                        <!--reviews-score-wrap-->



                        <div class="reviews-score-wrap fl-wrap">
                            <div class="review-score-total">
                                <span class="review-score-total-item">
                                    @ViewBag.AvgOverallRating
                                </span>
                                <div class="listing-rating card-popup-rainingvis" data-starrating2="@(Math.Round((ViewBag.AvgOverallRating),0))"></div>
                            </div>
                            <div class="review-score-detail">
                                <!-- review-score-detail-list-->
                                <div class="review-score-detail-list">
                                    <!-- rate item-->
                                    <div class="rate-item">
                                        <div class="rate-item-title"><span>Accuracy</span></div>
                                        <div class="rate-item-bg" data-percent="@(ViewBag.AvgAccuracy*20)%">
                                            <div class="rate-item-line gradient-bg"></div>
                                        </div>
                                        <div class="rate-item-percent">
                                            @ViewBag.AvgAccuracy
                                        </div>
                                    </div>
                                    <!-- rate item end-->
                                    <!-- rate item-->
                                    <div class="rate-item">
                                        <div class="rate-item-title"><span>Cleanliness</span></div>
                                        <div class="rate-item-bg" data-percent="@(ViewBag.AvgCleanliness*20)%">
                                            <div class="rate-item-line gradient-bg"></div>
                                        </div>
                                        <div class="rate-item-percent">
                                            @ViewBag.AvgCleanliness
                                        </div>
                                    </div>
                                    <!-- rate item end-->
                                    <!-- rate item-->
                                    <div class="rate-item">
                                        <div class="rate-item-title"><span>Location</span></div>
                                        <div class="rate-item-bg" data-percent="@(ViewBag.AvgLocation*20)%">
                                            @*"@(avg*20)%"*@
                                            <div class="rate-item-line gradient-bg"></div>
                                        </div>
                                        <div class="rate-item-percent">
                                            @ViewBag.AvgLocation
                                        </div>
                                    </div>
                                    <!-- rate item end-->
                                    <!-- rate item-->
                                    <div class="rate-item">
                                        <div class="rate-item-title"><span>Value</span></div>
                                        <div class="rate-item-bg" data-percent="@(ViewBag.AvgValue*20)%">
                                            <div class="rate-item-line gradient-bg"></div>
                                        </div>
                                        <div class="rate-item-percent">
                                            @ViewBag.AvgValue
                                        </div>
                                    </div>
                                    <!-- rate item end-->
                                </div>
                                <!-- review-score-detail-list end-->
                            </div>
                        </div>
                        <!-- reviews-score-wrap end -->
                        <div class="list-single-main-item_content fl-wrap">
                            <div class="reviews-comments-wrap">
                                <!-- reviews-comments-item -->
                                @foreach (var item in Model.Reviews)
                                {
                                    <div class="reviews-comments-item">
                                        <div class="review-comments-avatar">
                                            <img src="/images/avatar/1.jpg" alt="">
                                        </div>
                                        <div class="reviews-comments-item-text fl-wrap">
                                            <div class="reviews-comments-header fl-wrap">
                                                <h4><a href="#"></a></h4>
                                                <div class="review-score-user">
                                                    <span class="review-score-user_item">@item.OverallRating</span>
                                                    <div class="listing-rating card-popup-rainingvis" data-starrating2="@(Math.Round((item.OverallRating),0))"></div>
                                                </div>
                                            </div>
                                            <p>@item.Comment</p>
                                            <div class="reviews-comments-item-footer fl-wrap">
                                                <div class="reviews-comments-item-date"><span><i class="far fa-calendar-check"></i>@item.SubDate.ToString("dd/MM/yyyy")</span></div>
                                                <a onclick="myFunction()" class="rate-review"><i class="fal fa-thumbs-up"></i>  Helpful Review  <span id="@item.ReviewId">2</span> </a>
                                            </div>
                                        </div>
                                    </div>
                                }
                                    @*<script>
                                function myFunction() {
                                    document.getElementById("@(item.ReviewId)").innerText = 3;
                                }
                                    </script>*@
                                @*<script>
                                function myFunction() {
                                    document.getElementById("@(item.ReviewId)").innerText = 3;
                                }
                                </script>*@
                            </div>
                        </div>
                    </div>
                    <!-- list-single-main-item end -->
                </div>
            </div>
            <!-- list-single-main-wrapper-col end -->
            <!-- list-single-sidebar -->
            <div class="col-md-4">
                <!--box-widget-item -->
                <div class="box-widget-item fl-wrap block_box">
                    <div class="box-widget-item-header">
                        <h3>Book a Reservation </h3>
                    </div>
                    <div class="box-widget">
                        <div class="box-widget-content">
                            @* ============================================================================================================== *@

                            @using (Html.BeginForm("Create", "Reservations", FormMethod.Get, new { @class = "form-inline" }))
                            {
                                <fieldset>
                                    <div class="form-group mb-2">
                                        @Html.Hidden("PlaceId", null, new { @class = "form-control" })
                                    </div>
                                    <div class="form-group mb-2 d-inline-block">
                                        <div class="pricerange fl-wrap "><span>Price Per Day: </span> @Model.PricePerDay €</div>
                                    </div>

                                    <div class="form-group mb-2 d-inline-block">
                                        @Html.Label("Check-in", new { @for = "checkin", @class = "font-weight-bold" })
                                        @Html.TextBox("checkin", null, new { type = "date", @class = "form-control", placeholder = "checkin" })
                                    </div>
                                    <div class="form-group mb-2 d-inline-block">
                                        @Html.Label("Check-out", new { @for = "checkout", @class = "font-weight-bold" })
                                        @Html.TextBox("checkout", null, new { type = "date", @class = "form-control", placeholder = "checkout" })
                                        <button class="form-control mt-2 book-btn" type="submit">Book Room Now</button>
                                    </div>

                                </fieldset>
                            }

                            @*===============================================================================================================================*@
                            @*@using (Html.BeginForm("Add", "Reservations", FormMethod.Get, new { @class = "add-comment custom-form form-inline" }))
                                {       <fieldset>
                                            <div class="quantity fl-wrap">
                                                @Html.Hidden("placeId", null, new { @class = "form-control" })
                                                <span><i class="fal fa-user-plus"></i>Persons : </span>
                                                <div class="quantity-item">
                                                    <input type="button" value="-" class="minus">
                                                    <input type="text" name="quantity" title="Qty" class="qty color-bg" data-min="1" data-max="3" data-step="1" value="1">
                                                    <input type="button" value="+" class="plus">
                                                </div>
                                            </div>

                                            <div class="listsearch-input-item clact date-container3 daterangepicker_big">
                                                <label><i class="fal fa-calendar"></i></label>
                                                <input type="text" placeholder="Date In Out" name="dates" />
                                                @Html.TextBox("Checkin", null, new { @class = "form-control", placeholder = "checkin" })
                                                <span class="clear-singleinput"><i class="fal fa-times"></i></span>
                                            </div>
                                            <div class="form-group mb-2">
                                                @Html.Label("Checkin", new { @for = "searchTitle" })
                                            </div>
                                            <div class="form-group mb-2">
                                                @Html.Label("checkout", new { @for = "searchStream" })
                                                @Html.TextBox("checkout", null, new { @class = "form-control", placeholder = "checkout" })
                                            </div>


                                            <div class="claim-price-wdget-content fl-wrap">
                                                <div class="pricerange fl-wrap"><span>Price : </span> @Model.PricePerDay €</div>
                                                <div class="pricerange fl-wrap"><span>Clean Cost : </span> @Model.CleanCost €</div>
                                                <div class="claim-widget-link fl-wrap"><span>Own or work here?</span><a href="#">Claim Now!</a></div>
                                            </div>

                                           <button class="btn color2-bg url_btn float-btn" type="submit">Book Room Now</button>
                                        </fieldset>
                                }*@



                            @*//===========================================================================================================*@

                            @*<form class="add-comment custom-form">
                                    <fieldset>
                                        <div class="quantity fl-wrap">
                                            <span><i class="fal fa-user-plus"></i>Persons : </span>
                                            <div class="quantity-item">
                                                <input type="button" value="-" class="minus">
                                                <input type="text" name="quantity" title="Qty" class="qty color-bg" data-min="1" data-max="3" data-step="1" value="1">
                                                <input type="button" value="+" class="plus">
                                            </div>
                                        </div>

                                        <div class="listsearch-input-item clact date-container3 daterangepicker_big">
                                            <label><i class="fal fa-calendar"></i></label>
                                            <input type="text" placeholder="Date In Out" name="dates" value="" />
                                            <span class="clear-singleinput"><i class="fal fa-times"></i></span>
                                        </div>
                                        <div class="claim-price-wdget-content fl-wrap">
                                            <div class="pricerange fl-wrap"><span>Price : </span> @Model.PricePerDay €</div>
                                            <div class="pricerange fl-wrap"><span>Clean Cost : </span> @Model.CleanCost €</div>
                                            <div class="claim-widget-link fl-wrap"><span>Own or work here?</span><a href="#">Claim Now!</a></div>
                                        </div>

                                    </fieldset>
                                    <button class="btn color2-bg url_btn float-btn" onclick="window.location.href='booking.html'">Book Room Now <i class="fal fa-bookmark"></i></button>
                                </form>*@
                        </div>
                    </div>
                </div>
                <!--box-widget-item end -->
                <!--box-widget-item -->
                <div class="box-widget-item fl-wrap block_box">
                    <div class="box-widget-item-header">
                        <h3>Location / Contacts  </h3>
                    </div>
                    <div class="box-widget">
                        <div class="map-container">
                            <div id="singleMap" data-latitude="@Model.Address.Latitude" data-longitude="@Model.Address.Longitude" data-mapTitle="Our Location"></div>
                        </div>
                        <div class="box-widget-content bwc-nopad">
                            <div class="list-author-widget-contacts list-item-widget-contacts bwc-padside">
                                <ul class="no-list-style">
                                    <li><span><i class="fal fa-map-marker"></i> Address :</span> <a href="#">@Model.Address.AddressName @Model.Address.City</a></li>
                                </ul>
                            </div>
                            <div class="list-widget-social bottom-bcw-box  fl-wrap">
                                <ul class="no-list-style">
                                    <li><a href="#" target="_blank"><i class="fab fa-facebook-f"></i></a></li>
                                    <li><a href="#" target="_blank"><i class="fab fa-twitter"></i></a></li>
                                    <li><a href="#" target="_blank"><i class="fab fa-instagram"></i></a></li>
                                </ul>
                                <div class="bottom-bcw-box_link"><a href="#" class="show-single-contactform tolt" data-microtip-position="top" data-tooltip="Write Message"><i class="fal fa-envelope"></i></a></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--box-widget-item end -->
            </div>
            <!-- list-single-sidebar end -->
        </div>
    </div>
</section>
<div class="limit-box fl-wrap"></div>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCpoOQ4gRShj82EFsLYWPjQLMoXYqAHqtY&libraries=places&callback=initAutocomplete"></script>